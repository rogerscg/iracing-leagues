var mn=Object.defineProperty;var xn=(e,a,t)=>a in e?mn(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var $=(e,a,t)=>xn(e,typeof a!="symbol"?a+"":a,t);import{r as ne,d as Q,w as _e,b as $t,o as A,e as Y,u as H,V as kn,f as lt,i as vn,g as yn,h as F,j as Z,k as Oe,l as zt,c as I,a as S,m as En,_ as Ut,n as Sn,t as L,p as de,F as X,q as Xt,s as Yt,v as he,x as Oa,S as Gt}from"./index-BPRcUjW7.js";/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const An=4,Wt=0,Jt=1,zn=2;function ze(e){let a=e.length;for(;--a>=0;)e[a]=0}const Tn=0,$a=1,Rn=2,Dn=3,Cn=258,Ft=29,Ye=256,Me=Ye+1+Ft,Ee=30,Mt=19,Ua=2*Me+1,ue=15,ht=16,In=7,Ht=256,Fa=16,Ma=17,Ha=18,Tt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),rt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ln=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ba=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Nn=512,te=new Array((Me+2)*2);ze(te);const $e=new Array(Ee*2);ze($e);const He=new Array(Nn);ze(He);const Be=new Array(Cn-Dn+1);ze(Be);const Bt=new Array(Ft);ze(Bt);const st=new Array(Ee);ze(st);function ut(e,a,t,n,i){this.static_tree=e,this.extra_bits=a,this.extra_base=t,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let Pa,Va,Ka;function gt(e,a){this.dyn_tree=e,this.max_code=0,this.stat_desc=a}const ja=e=>e<256?He[e]:He[256+(e>>>7)],Pe=(e,a)=>{e.pending_buf[e.pending++]=a&255,e.pending_buf[e.pending++]=a>>>8&255},B=(e,a,t)=>{e.bi_valid>ht-t?(e.bi_buf|=a<<e.bi_valid&65535,Pe(e,e.bi_buf),e.bi_buf=a>>ht-e.bi_valid,e.bi_valid+=t-ht):(e.bi_buf|=a<<e.bi_valid&65535,e.bi_valid+=t)},W=(e,a,t)=>{B(e,t[a*2],t[a*2+1])},Xa=(e,a)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--a>0);return t>>>1},Zn=e=>{e.bi_valid===16?(Pe(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},On=(e,a)=>{const t=a.dyn_tree,n=a.max_code,i=a.stat_desc.static_tree,r=a.stat_desc.has_stree,o=a.stat_desc.extra_bits,l=a.stat_desc.extra_base,d=a.stat_desc.max_length;let s,_,u,h,c,m,D=0;for(h=0;h<=ue;h++)e.bl_count[h]=0;for(t[e.heap[e.heap_max]*2+1]=0,s=e.heap_max+1;s<Ua;s++)_=e.heap[s],h=t[t[_*2+1]*2+1]+1,h>d&&(h=d,D++),t[_*2+1]=h,!(_>n)&&(e.bl_count[h]++,c=0,_>=l&&(c=o[_-l]),m=t[_*2],e.opt_len+=m*(h+c),r&&(e.static_len+=m*(i[_*2+1]+c)));if(D!==0){do{for(h=d-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[d]--,D-=2}while(D>0);for(h=d;h!==0;h--)for(_=e.bl_count[h];_!==0;)u=e.heap[--s],!(u>n)&&(t[u*2+1]!==h&&(e.opt_len+=(h-t[u*2+1])*t[u*2],t[u*2+1]=h),_--)}},Ya=(e,a,t)=>{const n=new Array(ue+1);let i=0,r,o;for(r=1;r<=ue;r++)i=i+t[r-1]<<1,n[r]=i;for(o=0;o<=a;o++){let l=e[o*2+1];l!==0&&(e[o*2]=Xa(n[l]++,l))}},$n=()=>{let e,a,t,n,i;const r=new Array(ue+1);for(t=0,n=0;n<Ft-1;n++)for(Bt[n]=t,e=0;e<1<<Tt[n];e++)Be[t++]=n;for(Be[t-1]=n,i=0,n=0;n<16;n++)for(st[n]=i,e=0;e<1<<rt[n];e++)He[i++]=n;for(i>>=7;n<Ee;n++)for(st[n]=i<<7,e=0;e<1<<rt[n]-7;e++)He[256+i++]=n;for(a=0;a<=ue;a++)r[a]=0;for(e=0;e<=143;)te[e*2+1]=8,e++,r[8]++;for(;e<=255;)te[e*2+1]=9,e++,r[9]++;for(;e<=279;)te[e*2+1]=7,e++,r[7]++;for(;e<=287;)te[e*2+1]=8,e++,r[8]++;for(Ya(te,Me+1,r),e=0;e<Ee;e++)$e[e*2+1]=5,$e[e*2]=Xa(e,5);Pa=new ut(te,Tt,Ye+1,Me,ue),Va=new ut($e,rt,0,Ee,ue),Ka=new ut(new Array(0),Ln,0,Mt,In)},Ga=e=>{let a;for(a=0;a<Me;a++)e.dyn_ltree[a*2]=0;for(a=0;a<Ee;a++)e.dyn_dtree[a*2]=0;for(a=0;a<Mt;a++)e.bl_tree[a*2]=0;e.dyn_ltree[Ht*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Wa=e=>{e.bi_valid>8?Pe(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},qt=(e,a,t,n)=>{const i=a*2,r=t*2;return e[i]<e[r]||e[i]===e[r]&&n[a]<=n[t]},pt=(e,a,t)=>{const n=e.heap[t];let i=t<<1;for(;i<=e.heap_len&&(i<e.heap_len&&qt(a,e.heap[i+1],e.heap[i],e.depth)&&i++,!qt(a,n,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=n},Qt=(e,a,t)=>{let n,i,r=0,o,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+r++]&255,n+=(e.pending_buf[e.sym_buf+r++]&255)<<8,i=e.pending_buf[e.sym_buf+r++],n===0?W(e,i,a):(o=Be[i],W(e,o+Ye+1,a),l=Tt[o],l!==0&&(i-=Bt[o],B(e,i,l)),n--,o=ja(n),W(e,o,t),l=rt[o],l!==0&&(n-=st[o],B(e,n,l)));while(r<e.sym_next);W(e,Ht,a)},Rt=(e,a)=>{const t=a.dyn_tree,n=a.stat_desc.static_tree,i=a.stat_desc.has_stree,r=a.stat_desc.elems;let o,l,d=-1,s;for(e.heap_len=0,e.heap_max=Ua,o=0;o<r;o++)t[o*2]!==0?(e.heap[++e.heap_len]=d=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)s=e.heap[++e.heap_len]=d<2?++d:0,t[s*2]=1,e.depth[s]=0,e.opt_len--,i&&(e.static_len-=n[s*2+1]);for(a.max_code=d,o=e.heap_len>>1;o>=1;o--)pt(e,t,o);s=r;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pt(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,t[s*2]=t[o*2]+t[l*2],e.depth[s]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,t[o*2+1]=t[l*2+1]=s,e.heap[1]=s++,pt(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],On(e,a),Ya(t,d,e.bl_count)},ea=(e,a,t)=>{let n,i=-1,r,o=a[0*2+1],l=0,d=7,s=4;for(o===0&&(d=138,s=3),a[(t+1)*2+1]=65535,n=0;n<=t;n++)r=o,o=a[(n+1)*2+1],!(++l<d&&r===o)&&(l<s?e.bl_tree[r*2]+=l:r!==0?(r!==i&&e.bl_tree[r*2]++,e.bl_tree[Fa*2]++):l<=10?e.bl_tree[Ma*2]++:e.bl_tree[Ha*2]++,l=0,i=r,o===0?(d=138,s=3):r===o?(d=6,s=3):(d=7,s=4))},ta=(e,a,t)=>{let n,i=-1,r,o=a[0*2+1],l=0,d=7,s=4;for(o===0&&(d=138,s=3),n=0;n<=t;n++)if(r=o,o=a[(n+1)*2+1],!(++l<d&&r===o)){if(l<s)do W(e,r,e.bl_tree);while(--l!==0);else r!==0?(r!==i&&(W(e,r,e.bl_tree),l--),W(e,Fa,e.bl_tree),B(e,l-3,2)):l<=10?(W(e,Ma,e.bl_tree),B(e,l-3,3)):(W(e,Ha,e.bl_tree),B(e,l-11,7));l=0,i=r,o===0?(d=138,s=3):r===o?(d=6,s=3):(d=7,s=4)}},Un=e=>{let a;for(ea(e,e.dyn_ltree,e.l_desc.max_code),ea(e,e.dyn_dtree,e.d_desc.max_code),Rt(e,e.bl_desc),a=Mt-1;a>=3&&e.bl_tree[Ba[a]*2+1]===0;a--);return e.opt_len+=3*(a+1)+5+5+4,a},Fn=(e,a,t,n)=>{let i;for(B(e,a-257,5),B(e,t-1,5),B(e,n-4,4),i=0;i<n;i++)B(e,e.bl_tree[Ba[i]*2+1],3);ta(e,e.dyn_ltree,a-1),ta(e,e.dyn_dtree,t-1)},Mn=e=>{let a=4093624447,t;for(t=0;t<=31;t++,a>>>=1)if(a&1&&e.dyn_ltree[t*2]!==0)return Wt;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Jt;for(t=32;t<Ye;t++)if(e.dyn_ltree[t*2]!==0)return Jt;return Wt};let aa=!1;const Hn=e=>{aa||($n(),aa=!0),e.l_desc=new gt(e.dyn_ltree,Pa),e.d_desc=new gt(e.dyn_dtree,Va),e.bl_desc=new gt(e.bl_tree,Ka),e.bi_buf=0,e.bi_valid=0,Ga(e)},Ja=(e,a,t,n)=>{B(e,(Tn<<1)+(n?1:0),3),Wa(e),Pe(e,t),Pe(e,~t),t&&e.pending_buf.set(e.window.subarray(a,a+t),e.pending),e.pending+=t},Bn=e=>{B(e,$a<<1,3),W(e,Ht,te),Zn(e)},Pn=(e,a,t,n)=>{let i,r,o=0;e.level>0?(e.strm.data_type===zn&&(e.strm.data_type=Mn(e)),Rt(e,e.l_desc),Rt(e,e.d_desc),o=Un(e),i=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=i&&(i=r)):i=r=t+5,t+4<=i&&a!==-1?Ja(e,a,t,n):e.strategy===An||r===i?(B(e,($a<<1)+(n?1:0),3),Qt(e,te,$e)):(B(e,(Rn<<1)+(n?1:0),3),Fn(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Qt(e,e.dyn_ltree,e.dyn_dtree)),Ga(e),n&&Wa(e)},Vn=(e,a,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=a,e.pending_buf[e.sym_buf+e.sym_next++]=a>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,a===0?e.dyn_ltree[t*2]++:(e.matches++,a--,e.dyn_ltree[(Be[t]+Ye+1)*2]++,e.dyn_dtree[ja(a)*2]++),e.sym_next===e.sym_end);var Kn=Hn,jn=Ja,Xn=Pn,Yn=Vn,Gn=Bn,Wn={_tr_init:Kn,_tr_stored_block:jn,_tr_flush_block:Xn,_tr_tally:Yn,_tr_align:Gn};const Jn=(e,a,t,n)=>{let i=e&65535|0,r=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+a[n++]|0,r=r+i|0;while(--o);i%=65521,r%=65521}return i|r<<16|0};var Ve=Jn;const qn=()=>{let e,a=[];for(var t=0;t<256;t++){e=t;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;a[t]=e}return a},Qn=new Uint32Array(qn()),ei=(e,a,t,n)=>{const i=Qn,r=n+t;e^=-1;for(let o=n;o<r;o++)e=e>>>8^i[(e^a[o])&255];return e^-1};var O=ei,be={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},xe={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ti,_tr_stored_block:Dt,_tr_flush_block:ai,_tr_tally:le,_tr_align:ni}=Wn,{Z_NO_FLUSH:se,Z_PARTIAL_FLUSH:ii,Z_FULL_FLUSH:ri,Z_FINISH:K,Z_BLOCK:na,Z_OK:U,Z_STREAM_END:ia,Z_STREAM_ERROR:J,Z_DATA_ERROR:li,Z_BUF_ERROR:bt,Z_DEFAULT_COMPRESSION:si,Z_FILTERED:oi,Z_HUFFMAN_ONLY:et,Z_RLE:_i,Z_FIXED:ci,Z_DEFAULT_STRATEGY:fi,Z_UNKNOWN:di,Z_DEFLATED:ct}=xe,hi=9,ui=15,gi=8,pi=29,bi=256,Ct=bi+1+pi,wi=30,mi=19,xi=2*Ct+1,ki=15,y=3,re=258,q=re+y+1,vi=32,Se=42,Pt=57,It=69,Lt=73,Nt=91,Zt=103,ge=113,Ne=666,M=1,Te=2,we=3,Re=4,yi=3,pe=(e,a)=>(e.msg=be[a],a),ra=e=>e*2-(e>4?9:0),ie=e=>{let a=e.length;for(;--a>=0;)e[a]=0},Ei=e=>{let a,t,n,i=e.w_size;a=e.hash_size,n=a;do t=e.head[--n],e.head[n]=t>=i?t-i:0;while(--a);a=i,n=a;do t=e.prev[--n],e.prev[n]=t>=i?t-i:0;while(--a)};let Si=(e,a,t)=>(a<<e.hash_shift^t)&e.hash_mask,oe=Si;const P=e=>{const a=e.state;let t=a.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(a.pending_buf.subarray(a.pending_out,a.pending_out+t),e.next_out),e.next_out+=t,a.pending_out+=t,e.total_out+=t,e.avail_out-=t,a.pending-=t,a.pending===0&&(a.pending_out=0))},V=(e,a)=>{ai(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,a),e.block_start=e.strstart,P(e.strm)},T=(e,a)=>{e.pending_buf[e.pending++]=a},Ce=(e,a)=>{e.pending_buf[e.pending++]=a>>>8&255,e.pending_buf[e.pending++]=a&255},Ot=(e,a,t,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,a.set(e.input.subarray(e.next_in,e.next_in+i),t),e.state.wrap===1?e.adler=Ve(e.adler,a,i,t):e.state.wrap===2&&(e.adler=O(e.adler,a,i,t)),e.next_in+=i,e.total_in+=i,i)},qa=(e,a)=>{let t=e.max_chain_length,n=e.strstart,i,r,o=e.prev_length,l=e.nice_match;const d=e.strstart>e.w_size-q?e.strstart-(e.w_size-q):0,s=e.window,_=e.w_mask,u=e.prev,h=e.strstart+re;let c=s[n+o-1],m=s[n+o];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(i=a,!(s[i+o]!==m||s[i+o-1]!==c||s[i]!==s[n]||s[++i]!==s[n+1])){n+=2,i++;do;while(s[++n]===s[++i]&&s[++n]===s[++i]&&s[++n]===s[++i]&&s[++n]===s[++i]&&s[++n]===s[++i]&&s[++n]===s[++i]&&s[++n]===s[++i]&&s[++n]===s[++i]&&n<h);if(r=re-(h-n),n=h-re,r>o){if(e.match_start=a,o=r,r>=l)break;c=s[n+o-1],m=s[n+o]}}while((a=u[a&_])>d&&--t!==0);return o<=e.lookahead?o:e.lookahead},Ae=e=>{const a=e.w_size;let t,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-q)&&(e.window.set(e.window.subarray(a,a+a-n),0),e.match_start-=a,e.strstart-=a,e.block_start-=a,e.insert>e.strstart&&(e.insert=e.strstart),Ei(e),n+=a),e.strm.avail_in===0)break;if(t=Ot(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=y)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=oe(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=oe(e,e.ins_h,e.window[i+y-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<y)););}while(e.lookahead<q&&e.strm.avail_in!==0)},Qa=(e,a)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,r,o=0,l=e.strm.avail_in;do{if(n=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r||(r=e.strm.avail_out-r,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>r&&(n=r),n<t&&(n===0&&a!==K||a===se||n!==i+e.strm.avail_in)))break;o=a===K&&n===i+e.strm.avail_in?1:0,Dt(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,P(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(Ot(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Re:a!==se&&a!==K&&e.strm.avail_in===0&&e.strstart===e.block_start?Te:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(Ot(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,t=r>e.w_size?e.w_size:r,i=e.strstart-e.block_start,(i>=t||(i||a===K)&&a!==se&&e.strm.avail_in===0&&i<=r)&&(n=i>r?r:i,o=a===K&&e.strm.avail_in===0&&n===i?1:0,Dt(e,e.block_start,n,o),e.block_start+=n,P(e.strm)),o?we:M)},wt=(e,a)=>{let t,n;for(;;){if(e.lookahead<q){if(Ae(e),e.lookahead<q&&a===se)return M;if(e.lookahead===0)break}if(t=0,e.lookahead>=y&&(e.ins_h=oe(e,e.ins_h,e.window[e.strstart+y-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-q&&(e.match_length=qa(e,t)),e.match_length>=y)if(n=le(e,e.strstart-e.match_start,e.match_length-y),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=y){e.match_length--;do e.strstart++,e.ins_h=oe(e,e.ins_h,e.window[e.strstart+y-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=oe(e,e.ins_h,e.window[e.strstart+1]);else n=le(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(V(e,!1),e.strm.avail_out===0))return M}return e.insert=e.strstart<y-1?e.strstart:y-1,a===K?(V(e,!0),e.strm.avail_out===0?we:Re):e.sym_next&&(V(e,!1),e.strm.avail_out===0)?M:Te},ve=(e,a)=>{let t,n,i;for(;;){if(e.lookahead<q){if(Ae(e),e.lookahead<q&&a===se)return M;if(e.lookahead===0)break}if(t=0,e.lookahead>=y&&(e.ins_h=oe(e,e.ins_h,e.window[e.strstart+y-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=y-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-q&&(e.match_length=qa(e,t),e.match_length<=5&&(e.strategy===oi||e.match_length===y&&e.strstart-e.match_start>4096)&&(e.match_length=y-1)),e.prev_length>=y&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-y,n=le(e,e.strstart-1-e.prev_match,e.prev_length-y),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=oe(e,e.ins_h,e.window[e.strstart+y-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=y-1,e.strstart++,n&&(V(e,!1),e.strm.avail_out===0))return M}else if(e.match_available){if(n=le(e,0,e.window[e.strstart-1]),n&&V(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return M}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=le(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<y-1?e.strstart:y-1,a===K?(V(e,!0),e.strm.avail_out===0?we:Re):e.sym_next&&(V(e,!1),e.strm.avail_out===0)?M:Te},Ai=(e,a)=>{let t,n,i,r;const o=e.window;for(;;){if(e.lookahead<=re){if(Ae(e),e.lookahead<=re&&a===se)return M;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=y&&e.strstart>0&&(i=e.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){r=e.strstart+re;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<r);e.match_length=re-(r-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=y?(t=le(e,1,e.match_length-y),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=le(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(V(e,!1),e.strm.avail_out===0))return M}return e.insert=0,a===K?(V(e,!0),e.strm.avail_out===0?we:Re):e.sym_next&&(V(e,!1),e.strm.avail_out===0)?M:Te},zi=(e,a)=>{let t;for(;;){if(e.lookahead===0&&(Ae(e),e.lookahead===0)){if(a===se)return M;break}if(e.match_length=0,t=le(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(V(e,!1),e.strm.avail_out===0))return M}return e.insert=0,a===K?(V(e,!0),e.strm.avail_out===0?we:Re):e.sym_next&&(V(e,!1),e.strm.avail_out===0)?M:Te};function G(e,a,t,n,i){this.good_length=e,this.max_lazy=a,this.nice_length=t,this.max_chain=n,this.func=i}const Ze=[new G(0,0,0,0,Qa),new G(4,4,8,4,wt),new G(4,5,16,8,wt),new G(4,6,32,32,wt),new G(4,4,16,16,ve),new G(8,16,32,32,ve),new G(8,16,128,128,ve),new G(8,32,128,256,ve),new G(32,128,258,1024,ve),new G(32,258,258,4096,ve)],Ti=e=>{e.window_size=2*e.w_size,ie(e.head),e.max_lazy_match=Ze[e.level].max_lazy,e.good_match=Ze[e.level].good_length,e.nice_match=Ze[e.level].nice_length,e.max_chain_length=Ze[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=y-1,e.match_available=0,e.ins_h=0};function Ri(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ct,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(xi*2),this.dyn_dtree=new Uint16Array((2*wi+1)*2),this.bl_tree=new Uint16Array((2*mi+1)*2),ie(this.dyn_ltree),ie(this.dyn_dtree),ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ki+1),this.heap=new Uint16Array(2*Ct+1),ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ct+1),ie(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ge=e=>{if(!e)return 1;const a=e.state;return!a||a.strm!==e||a.status!==Se&&a.status!==Pt&&a.status!==It&&a.status!==Lt&&a.status!==Nt&&a.status!==Zt&&a.status!==ge&&a.status!==Ne?1:0},en=e=>{if(Ge(e))return pe(e,J);e.total_in=e.total_out=0,e.data_type=di;const a=e.state;return a.pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap===2?Pt:a.wrap?Se:ge,e.adler=a.wrap===2?0:1,a.last_flush=-2,ti(a),U},tn=e=>{const a=en(e);return a===U&&Ti(e.state),a},Di=(e,a)=>Ge(e)||e.state.wrap!==2?J:(e.state.gzhead=a,U),an=(e,a,t,n,i,r)=>{if(!e)return J;let o=1;if(a===si&&(a=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>hi||t!==ct||n<8||n>15||a<0||a>9||r<0||r>ci||n===8&&o!==1)return pe(e,J);n===8&&(n=9);const l=new Ri;return e.state=l,l.strm=e,l.status=Se,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+y-1)/y),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=a,l.strategy=r,l.method=t,tn(e)},Ci=(e,a)=>an(e,a,ct,ui,gi,fi),Ii=(e,a)=>{if(Ge(e)||a>na||a<0)return e?pe(e,J):J;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Ne&&a!==K)return pe(e,e.avail_out===0?bt:J);const n=t.last_flush;if(t.last_flush=a,t.pending!==0){if(P(e),e.avail_out===0)return t.last_flush=-1,U}else if(e.avail_in===0&&ra(a)<=ra(n)&&a!==K)return pe(e,bt);if(t.status===Ne&&e.avail_in!==0)return pe(e,bt);if(t.status===Se&&t.wrap===0&&(t.status=ge),t.status===Se){let i=ct+(t.w_bits-8<<4)<<8,r=-1;if(t.strategy>=et||t.level<2?r=0:t.level<6?r=1:t.level===6?r=2:r=3,i|=r<<6,t.strstart!==0&&(i|=vi),i+=31-i%31,Ce(t,i),t.strstart!==0&&(Ce(t,e.adler>>>16),Ce(t,e.adler&65535)),e.adler=1,t.status=ge,P(e),t.pending!==0)return t.last_flush=-1,U}if(t.status===Pt){if(e.adler=0,T(t,31),T(t,139),T(t,8),t.gzhead)T(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),T(t,t.gzhead.time&255),T(t,t.gzhead.time>>8&255),T(t,t.gzhead.time>>16&255),T(t,t.gzhead.time>>24&255),T(t,t.level===9?2:t.strategy>=et||t.level<2?4:0),T(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(T(t,t.gzhead.extra.length&255),T(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=O(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=It;else if(T(t,0),T(t,0),T(t,0),T(t,0),T(t,0),T(t,t.level===9?2:t.strategy>=et||t.level<2?4:0),T(t,yi),t.status=ge,P(e),t.pending!==0)return t.last_flush=-1,U}if(t.status===It){if(t.gzhead.extra){let i=t.pending,r=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+r>t.pending_buf_size;){let l=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+l),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(e.adler=O(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=l,P(e),t.pending!==0)return t.last_flush=-1,U;i=0,r-=l}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+r),t.pending),t.pending+=r,t.gzhead.hcrc&&t.pending>i&&(e.adler=O(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=Lt}if(t.status===Lt){if(t.gzhead.name){let i=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=O(e.adler,t.pending_buf,t.pending-i,i)),P(e),t.pending!==0)return t.last_flush=-1,U;i=0}t.gzindex<t.gzhead.name.length?r=t.gzhead.name.charCodeAt(t.gzindex++)&255:r=0,T(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=O(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=Nt}if(t.status===Nt){if(t.gzhead.comment){let i=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=O(e.adler,t.pending_buf,t.pending-i,i)),P(e),t.pending!==0)return t.last_flush=-1,U;i=0}t.gzindex<t.gzhead.comment.length?r=t.gzhead.comment.charCodeAt(t.gzindex++)&255:r=0,T(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=O(e.adler,t.pending_buf,t.pending-i,i))}t.status=Zt}if(t.status===Zt){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(P(e),t.pending!==0))return t.last_flush=-1,U;T(t,e.adler&255),T(t,e.adler>>8&255),e.adler=0}if(t.status=ge,P(e),t.pending!==0)return t.last_flush=-1,U}if(e.avail_in!==0||t.lookahead!==0||a!==se&&t.status!==Ne){let i=t.level===0?Qa(t,a):t.strategy===et?zi(t,a):t.strategy===_i?Ai(t,a):Ze[t.level].func(t,a);if((i===we||i===Re)&&(t.status=Ne),i===M||i===we)return e.avail_out===0&&(t.last_flush=-1),U;if(i===Te&&(a===ii?ni(t):a!==na&&(Dt(t,0,0,!1),a===ri&&(ie(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),P(e),e.avail_out===0))return t.last_flush=-1,U}return a!==K?U:t.wrap<=0?ia:(t.wrap===2?(T(t,e.adler&255),T(t,e.adler>>8&255),T(t,e.adler>>16&255),T(t,e.adler>>24&255),T(t,e.total_in&255),T(t,e.total_in>>8&255),T(t,e.total_in>>16&255),T(t,e.total_in>>24&255)):(Ce(t,e.adler>>>16),Ce(t,e.adler&65535)),P(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?U:ia)},Li=e=>{if(Ge(e))return J;const a=e.state.status;return e.state=null,a===ge?pe(e,li):U},Ni=(e,a)=>{let t=a.length;if(Ge(e))return J;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==Se||n.lookahead)return J;if(i===1&&(e.adler=Ve(e.adler,a,t,0)),n.wrap=0,t>=n.w_size){i===0&&(ie(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(a.subarray(t-n.w_size,t),0),a=d,t=n.w_size}const r=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=t,e.next_in=0,e.input=a,Ae(n);n.lookahead>=y;){let d=n.strstart,s=n.lookahead-(y-1);do n.ins_h=oe(n,n.ins_h,n.window[d+y-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--s);n.strstart=d,n.lookahead=y-1,Ae(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=y-1,n.match_available=0,e.next_in=o,e.input=l,e.avail_in=r,n.wrap=i,U};var Zi=Ci,Oi=an,$i=tn,Ui=en,Fi=Di,Mi=Ii,Hi=Li,Bi=Ni,Pi="pako deflate (from Nodeca project)",Ue={deflateInit:Zi,deflateInit2:Oi,deflateReset:$i,deflateResetKeep:Ui,deflateSetHeader:Fi,deflate:Mi,deflateEnd:Hi,deflateSetDictionary:Bi,deflateInfo:Pi};const Vi=(e,a)=>Object.prototype.hasOwnProperty.call(e,a);var Ki=function(e){const a=Array.prototype.slice.call(arguments,1);for(;a.length;){const t=a.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)Vi(t,n)&&(e[n]=t[n])}}return e},ji=e=>{let a=0;for(let n=0,i=e.length;n<i;n++)a+=e[n].length;const t=new Uint8Array(a);for(let n=0,i=0,r=e.length;n<r;n++){let o=e[n];t.set(o,i),i+=o.length}return t},ft={assign:Ki,flattenChunks:ji};let nn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nn=!1}const Ke=new Uint8Array(256);for(let e=0;e<256;e++)Ke[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ke[254]=Ke[254]=1;var Xi=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let a,t,n,i,r,o=e.length,l=0;for(i=0;i<o;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(a=new Uint8Array(l),r=0,i=0;r<l;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?a[r++]=t:t<2048?(a[r++]=192|t>>>6,a[r++]=128|t&63):t<65536?(a[r++]=224|t>>>12,a[r++]=128|t>>>6&63,a[r++]=128|t&63):(a[r++]=240|t>>>18,a[r++]=128|t>>>12&63,a[r++]=128|t>>>6&63,a[r++]=128|t&63);return a};const Yi=(e,a)=>{if(a<65534&&e.subarray&&nn)return String.fromCharCode.apply(null,e.length===a?e:e.subarray(0,a));let t="";for(let n=0;n<a;n++)t+=String.fromCharCode(e[n]);return t};var Gi=(e,a)=>{const t=a||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,a));let n,i;const r=new Array(t*2);for(i=0,n=0;n<t;){let o=e[n++];if(o<128){r[i++]=o;continue}let l=Ke[o];if(l>4){r[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<t;)o=o<<6|e[n++]&63,l--;if(l>1){r[i++]=65533;continue}o<65536?r[i++]=o:(o-=65536,r[i++]=55296|o>>10&1023,r[i++]=56320|o&1023)}return Yi(r,i)},Wi=(e,a)=>{a=a||e.length,a>e.length&&(a=e.length);let t=a-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?a:t+Ke[e[t]]>a?t:a},je={string2buf:Xi,buf2string:Gi,utf8border:Wi};function Ji(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var rn=Ji;const ln=Object.prototype.toString,{Z_NO_FLUSH:qi,Z_SYNC_FLUSH:Qi,Z_FULL_FLUSH:er,Z_FINISH:tr,Z_OK:ot,Z_STREAM_END:ar,Z_DEFAULT_COMPRESSION:nr,Z_DEFAULT_STRATEGY:ir,Z_DEFLATED:rr}=xe;function We(e){this.options=ft.assign({level:nr,method:rr,chunkSize:16384,windowBits:15,memLevel:8,strategy:ir},e||{});let a=this.options;a.raw&&a.windowBits>0?a.windowBits=-a.windowBits:a.gzip&&a.windowBits>0&&a.windowBits<16&&(a.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rn,this.strm.avail_out=0;let t=Ue.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(t!==ot)throw new Error(be[t]);if(a.header&&Ue.deflateSetHeader(this.strm,a.header),a.dictionary){let n;if(typeof a.dictionary=="string"?n=je.string2buf(a.dictionary):ln.call(a.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(a.dictionary):n=a.dictionary,t=Ue.deflateSetDictionary(this.strm,n),t!==ot)throw new Error(be[t]);this._dict_set=!0}}We.prototype.push=function(e,a){const t=this.strm,n=this.options.chunkSize;let i,r;if(this.ended)return!1;for(a===~~a?r=a:r=a===!0?tr:qi,typeof e=="string"?t.input=je.string2buf(e):ln.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(r===Qi||r===er)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=Ue.deflate(t,r),i===ar)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=Ue.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ot;if(t.avail_out===0){this.onData(t.output);continue}if(r>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};We.prototype.onData=function(e){this.chunks.push(e)};We.prototype.onEnd=function(e){e===ot&&(this.result=ft.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Vt(e,a){const t=new We(a);if(t.push(e,!0),t.err)throw t.msg||be[t.err];return t.result}function lr(e,a){return a=a||{},a.raw=!0,Vt(e,a)}function sr(e,a){return a=a||{},a.gzip=!0,Vt(e,a)}var or=We,_r=Vt,cr=lr,fr=sr,dr=xe,hr={Deflate:or,deflate:_r,deflateRaw:cr,gzip:fr,constants:dr};const tt=16209,ur=16191;var gr=function(a,t){let n,i,r,o,l,d,s,_,u,h,c,m,D,p,b,g,w,f,z,N,x,R,E,k;const v=a.state;n=a.next_in,E=a.input,i=n+(a.avail_in-5),r=a.next_out,k=a.output,o=r-(t-a.avail_out),l=r+(a.avail_out-257),d=v.dmax,s=v.wsize,_=v.whave,u=v.wnext,h=v.window,c=v.hold,m=v.bits,D=v.lencode,p=v.distcode,b=(1<<v.lenbits)-1,g=(1<<v.distbits)-1;e:do{m<15&&(c+=E[n++]<<m,m+=8,c+=E[n++]<<m,m+=8),w=D[c&b];t:for(;;){if(f=w>>>24,c>>>=f,m-=f,f=w>>>16&255,f===0)k[r++]=w&65535;else if(f&16){z=w&65535,f&=15,f&&(m<f&&(c+=E[n++]<<m,m+=8),z+=c&(1<<f)-1,c>>>=f,m-=f),m<15&&(c+=E[n++]<<m,m+=8,c+=E[n++]<<m,m+=8),w=p[c&g];a:for(;;){if(f=w>>>24,c>>>=f,m-=f,f=w>>>16&255,f&16){if(N=w&65535,f&=15,m<f&&(c+=E[n++]<<m,m+=8,m<f&&(c+=E[n++]<<m,m+=8)),N+=c&(1<<f)-1,N>d){a.msg="invalid distance too far back",v.mode=tt;break e}if(c>>>=f,m-=f,f=r-o,N>f){if(f=N-f,f>_&&v.sane){a.msg="invalid distance too far back",v.mode=tt;break e}if(x=0,R=h,u===0){if(x+=s-f,f<z){z-=f;do k[r++]=h[x++];while(--f);x=r-N,R=k}}else if(u<f){if(x+=s+u-f,f-=u,f<z){z-=f;do k[r++]=h[x++];while(--f);if(x=0,u<z){f=u,z-=f;do k[r++]=h[x++];while(--f);x=r-N,R=k}}}else if(x+=u-f,f<z){z-=f;do k[r++]=h[x++];while(--f);x=r-N,R=k}for(;z>2;)k[r++]=R[x++],k[r++]=R[x++],k[r++]=R[x++],z-=3;z&&(k[r++]=R[x++],z>1&&(k[r++]=R[x++]))}else{x=r-N;do k[r++]=k[x++],k[r++]=k[x++],k[r++]=k[x++],z-=3;while(z>2);z&&(k[r++]=k[x++],z>1&&(k[r++]=k[x++]))}}else if(f&64){a.msg="invalid distance code",v.mode=tt;break e}else{w=p[(w&65535)+(c&(1<<f)-1)];continue a}break}}else if(f&64)if(f&32){v.mode=ur;break e}else{a.msg="invalid literal/length code",v.mode=tt;break e}else{w=D[(w&65535)+(c&(1<<f)-1)];continue t}break}}while(n<i&&r<l);z=m>>3,n-=z,m-=z<<3,c&=(1<<m)-1,a.next_in=n,a.next_out=r,a.avail_in=n<i?5+(i-n):5-(n-i),a.avail_out=r<l?257+(l-r):257-(r-l),v.hold=c,v.bits=m};const ye=15,la=852,sa=592,oa=0,mt=1,_a=2,pr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),br=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),mr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),xr=(e,a,t,n,i,r,o,l)=>{const d=l.bits;let s=0,_=0,u=0,h=0,c=0,m=0,D=0,p=0,b=0,g=0,w,f,z,N,x,R=null,E;const k=new Uint16Array(ye+1),v=new Uint16Array(ye+1);let fe=null,jt,qe,Qe;for(s=0;s<=ye;s++)k[s]=0;for(_=0;_<n;_++)k[a[t+_]]++;for(c=d,h=ye;h>=1&&k[h]===0;h--);if(c>h&&(c=h),h===0)return i[r++]=1<<24|64<<16|0,i[r++]=1<<24|64<<16|0,l.bits=1,0;for(u=1;u<h&&k[u]===0;u++);for(c<u&&(c=u),p=1,s=1;s<=ye;s++)if(p<<=1,p-=k[s],p<0)return-1;if(p>0&&(e===oa||h!==1))return-1;for(v[1]=0,s=1;s<ye;s++)v[s+1]=v[s]+k[s];for(_=0;_<n;_++)a[t+_]!==0&&(o[v[a[t+_]]++]=_);if(e===oa?(R=fe=o,E=20):e===mt?(R=pr,fe=br,E=257):(R=wr,fe=mr,E=0),g=0,_=0,s=u,x=r,m=c,D=0,z=-1,b=1<<c,N=b-1,e===mt&&b>la||e===_a&&b>sa)return 1;for(;;){jt=s-D,o[_]+1<E?(qe=0,Qe=o[_]):o[_]>=E?(qe=fe[o[_]-E],Qe=R[o[_]-E]):(qe=96,Qe=0),w=1<<s-D,f=1<<m,u=f;do f-=w,i[x+(g>>D)+f]=jt<<24|qe<<16|Qe|0;while(f!==0);for(w=1<<s-1;g&w;)w>>=1;if(w!==0?(g&=w-1,g+=w):g=0,_++,--k[s]===0){if(s===h)break;s=a[t+o[_]]}if(s>c&&(g&N)!==z){for(D===0&&(D=c),x+=u,m=s-D,p=1<<m;m+D<h&&(p-=k[m+D],!(p<=0));)m++,p<<=1;if(b+=1<<m,e===mt&&b>la||e===_a&&b>sa)return 1;z=g&N,i[z]=c<<24|m<<16|x-r|0}}return g!==0&&(i[x+g]=s-D<<24|64<<16|0),l.bits=c,0};var Fe=xr;const kr=0,sn=1,on=2,{Z_FINISH:ca,Z_BLOCK:vr,Z_TREES:at,Z_OK:me,Z_STREAM_END:yr,Z_NEED_DICT:Er,Z_STREAM_ERROR:j,Z_DATA_ERROR:_n,Z_MEM_ERROR:cn,Z_BUF_ERROR:Sr,Z_DEFLATED:fa}=xe,dt=16180,da=16181,ha=16182,ua=16183,ga=16184,pa=16185,ba=16186,wa=16187,ma=16188,xa=16189,_t=16190,ee=16191,xt=16192,ka=16193,kt=16194,va=16195,ya=16196,Ea=16197,Sa=16198,nt=16199,it=16200,Aa=16201,za=16202,Ta=16203,Ra=16204,Da=16205,vt=16206,Ca=16207,Ia=16208,C=16209,fn=16210,dn=16211,Ar=852,zr=592,Tr=15,Rr=Tr,La=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Dr(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ke=e=>{if(!e)return 1;const a=e.state;return!a||a.strm!==e||a.mode<dt||a.mode>dn?1:0},hn=e=>{if(ke(e))return j;const a=e.state;return e.total_in=e.total_out=a.total=0,e.msg="",a.wrap&&(e.adler=a.wrap&1),a.mode=dt,a.last=0,a.havedict=0,a.flags=-1,a.dmax=32768,a.head=null,a.hold=0,a.bits=0,a.lencode=a.lendyn=new Int32Array(Ar),a.distcode=a.distdyn=new Int32Array(zr),a.sane=1,a.back=-1,me},un=e=>{if(ke(e))return j;const a=e.state;return a.wsize=0,a.whave=0,a.wnext=0,hn(e)},gn=(e,a)=>{let t;if(ke(e))return j;const n=e.state;return a<0?(t=0,a=-a):(t=(a>>4)+5,a<48&&(a&=15)),a&&(a<8||a>15)?j:(n.window!==null&&n.wbits!==a&&(n.window=null),n.wrap=t,n.wbits=a,un(e))},pn=(e,a)=>{if(!e)return j;const t=new Dr;e.state=t,t.strm=e,t.window=null,t.mode=dt;const n=gn(e,a);return n!==me&&(e.state=null),n},Cr=e=>pn(e,Rr);let Na=!0,yt,Et;const Ir=e=>{if(Na){yt=new Int32Array(512),Et=new Int32Array(32);let a=0;for(;a<144;)e.lens[a++]=8;for(;a<256;)e.lens[a++]=9;for(;a<280;)e.lens[a++]=7;for(;a<288;)e.lens[a++]=8;for(Fe(sn,e.lens,0,288,yt,0,e.work,{bits:9}),a=0;a<32;)e.lens[a++]=5;Fe(on,e.lens,0,32,Et,0,e.work,{bits:5}),Na=!1}e.lencode=yt,e.lenbits=9,e.distcode=Et,e.distbits=5},bn=(e,a,t,n)=>{let i;const r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(a.subarray(t-r.wsize,t),0),r.wnext=0,r.whave=r.wsize):(i=r.wsize-r.wnext,i>n&&(i=n),r.window.set(a.subarray(t-n,t-n+i),r.wnext),n-=i,n?(r.window.set(a.subarray(t-n,t),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=i,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=i))),0},Lr=(e,a)=>{let t,n,i,r,o,l,d,s,_,u,h,c,m,D,p=0,b,g,w,f,z,N,x,R;const E=new Uint8Array(4);let k,v;const fe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ke(e)||!e.output||!e.input&&e.avail_in!==0)return j;t=e.state,t.mode===ee&&(t.mode=xt),o=e.next_out,i=e.output,d=e.avail_out,r=e.next_in,n=e.input,l=e.avail_in,s=t.hold,_=t.bits,u=l,h=d,R=me;e:for(;;)switch(t.mode){case dt:if(t.wrap===0){t.mode=xt;break}for(;_<16;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}if(t.wrap&2&&s===35615){t.wbits===0&&(t.wbits=15),t.check=0,E[0]=s&255,E[1]=s>>>8&255,t.check=O(t.check,E,2,0),s=0,_=0,t.mode=da;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((s&255)<<8)+(s>>8))%31){e.msg="incorrect header check",t.mode=C;break}if((s&15)!==fa){e.msg="unknown compression method",t.mode=C;break}if(s>>>=4,_-=4,x=(s&15)+8,t.wbits===0&&(t.wbits=x),x>15||x>t.wbits){e.msg="invalid window size",t.mode=C;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=s&512?xa:ee,s=0,_=0;break;case da:for(;_<16;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}if(t.flags=s,(t.flags&255)!==fa){e.msg="unknown compression method",t.mode=C;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=C;break}t.head&&(t.head.text=s>>8&1),t.flags&512&&t.wrap&4&&(E[0]=s&255,E[1]=s>>>8&255,t.check=O(t.check,E,2,0)),s=0,_=0,t.mode=ha;case ha:for(;_<32;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}t.head&&(t.head.time=s),t.flags&512&&t.wrap&4&&(E[0]=s&255,E[1]=s>>>8&255,E[2]=s>>>16&255,E[3]=s>>>24&255,t.check=O(t.check,E,4,0)),s=0,_=0,t.mode=ua;case ua:for(;_<16;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}t.head&&(t.head.xflags=s&255,t.head.os=s>>8),t.flags&512&&t.wrap&4&&(E[0]=s&255,E[1]=s>>>8&255,t.check=O(t.check,E,2,0)),s=0,_=0,t.mode=ga;case ga:if(t.flags&1024){for(;_<16;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}t.length=s,t.head&&(t.head.extra_len=s),t.flags&512&&t.wrap&4&&(E[0]=s&255,E[1]=s>>>8&255,t.check=O(t.check,E,2,0)),s=0,_=0}else t.head&&(t.head.extra=null);t.mode=pa;case pa:if(t.flags&1024&&(c=t.length,c>l&&(c=l),c&&(t.head&&(x=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(r,r+c),x)),t.flags&512&&t.wrap&4&&(t.check=O(t.check,n,c,r)),l-=c,r+=c,t.length-=c),t.length))break e;t.length=0,t.mode=ba;case ba:if(t.flags&2048){if(l===0)break e;c=0;do x=n[r+c++],t.head&&x&&t.length<65536&&(t.head.name+=String.fromCharCode(x));while(x&&c<l);if(t.flags&512&&t.wrap&4&&(t.check=O(t.check,n,c,r)),l-=c,r+=c,x)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=wa;case wa:if(t.flags&4096){if(l===0)break e;c=0;do x=n[r+c++],t.head&&x&&t.length<65536&&(t.head.comment+=String.fromCharCode(x));while(x&&c<l);if(t.flags&512&&t.wrap&4&&(t.check=O(t.check,n,c,r)),l-=c,r+=c,x)break e}else t.head&&(t.head.comment=null);t.mode=ma;case ma:if(t.flags&512){for(;_<16;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}if(t.wrap&4&&s!==(t.check&65535)){e.msg="header crc mismatch",t.mode=C;break}s=0,_=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=ee;break;case xa:for(;_<32;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}e.adler=t.check=La(s),s=0,_=0,t.mode=_t;case _t:if(t.havedict===0)return e.next_out=o,e.avail_out=d,e.next_in=r,e.avail_in=l,t.hold=s,t.bits=_,Er;e.adler=t.check=1,t.mode=ee;case ee:if(a===vr||a===at)break e;case xt:if(t.last){s>>>=_&7,_-=_&7,t.mode=vt;break}for(;_<3;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}switch(t.last=s&1,s>>>=1,_-=1,s&3){case 0:t.mode=ka;break;case 1:if(Ir(t),t.mode=nt,a===at){s>>>=2,_-=2;break e}break;case 2:t.mode=ya;break;case 3:e.msg="invalid block type",t.mode=C}s>>>=2,_-=2;break;case ka:for(s>>>=_&7,_-=_&7;_<32;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}if((s&65535)!==(s>>>16^65535)){e.msg="invalid stored block lengths",t.mode=C;break}if(t.length=s&65535,s=0,_=0,t.mode=kt,a===at)break e;case kt:t.mode=va;case va:if(c=t.length,c){if(c>l&&(c=l),c>d&&(c=d),c===0)break e;i.set(n.subarray(r,r+c),o),l-=c,r+=c,d-=c,o+=c,t.length-=c;break}t.mode=ee;break;case ya:for(;_<14;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}if(t.nlen=(s&31)+257,s>>>=5,_-=5,t.ndist=(s&31)+1,s>>>=5,_-=5,t.ncode=(s&15)+4,s>>>=4,_-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=C;break}t.have=0,t.mode=Ea;case Ea:for(;t.have<t.ncode;){for(;_<3;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}t.lens[fe[t.have++]]=s&7,s>>>=3,_-=3}for(;t.have<19;)t.lens[fe[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,k={bits:t.lenbits},R=Fe(kr,t.lens,0,19,t.lencode,0,t.work,k),t.lenbits=k.bits,R){e.msg="invalid code lengths set",t.mode=C;break}t.have=0,t.mode=Sa;case Sa:for(;t.have<t.nlen+t.ndist;){for(;p=t.lencode[s&(1<<t.lenbits)-1],b=p>>>24,g=p>>>16&255,w=p&65535,!(b<=_);){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}if(w<16)s>>>=b,_-=b,t.lens[t.have++]=w;else{if(w===16){for(v=b+2;_<v;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}if(s>>>=b,_-=b,t.have===0){e.msg="invalid bit length repeat",t.mode=C;break}x=t.lens[t.have-1],c=3+(s&3),s>>>=2,_-=2}else if(w===17){for(v=b+3;_<v;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}s>>>=b,_-=b,x=0,c=3+(s&7),s>>>=3,_-=3}else{for(v=b+7;_<v;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}s>>>=b,_-=b,x=0,c=11+(s&127),s>>>=7,_-=7}if(t.have+c>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=C;break}for(;c--;)t.lens[t.have++]=x}}if(t.mode===C)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=C;break}if(t.lenbits=9,k={bits:t.lenbits},R=Fe(sn,t.lens,0,t.nlen,t.lencode,0,t.work,k),t.lenbits=k.bits,R){e.msg="invalid literal/lengths set",t.mode=C;break}if(t.distbits=6,t.distcode=t.distdyn,k={bits:t.distbits},R=Fe(on,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,k),t.distbits=k.bits,R){e.msg="invalid distances set",t.mode=C;break}if(t.mode=nt,a===at)break e;case nt:t.mode=it;case it:if(l>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=r,e.avail_in=l,t.hold=s,t.bits=_,gr(e,h),o=e.next_out,i=e.output,d=e.avail_out,r=e.next_in,n=e.input,l=e.avail_in,s=t.hold,_=t.bits,t.mode===ee&&(t.back=-1);break}for(t.back=0;p=t.lencode[s&(1<<t.lenbits)-1],b=p>>>24,g=p>>>16&255,w=p&65535,!(b<=_);){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}if(g&&!(g&240)){for(f=b,z=g,N=w;p=t.lencode[N+((s&(1<<f+z)-1)>>f)],b=p>>>24,g=p>>>16&255,w=p&65535,!(f+b<=_);){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}s>>>=f,_-=f,t.back+=f}if(s>>>=b,_-=b,t.back+=b,t.length=w,g===0){t.mode=Da;break}if(g&32){t.back=-1,t.mode=ee;break}if(g&64){e.msg="invalid literal/length code",t.mode=C;break}t.extra=g&15,t.mode=Aa;case Aa:if(t.extra){for(v=t.extra;_<v;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}t.length+=s&(1<<t.extra)-1,s>>>=t.extra,_-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=za;case za:for(;p=t.distcode[s&(1<<t.distbits)-1],b=p>>>24,g=p>>>16&255,w=p&65535,!(b<=_);){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}if(!(g&240)){for(f=b,z=g,N=w;p=t.distcode[N+((s&(1<<f+z)-1)>>f)],b=p>>>24,g=p>>>16&255,w=p&65535,!(f+b<=_);){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}s>>>=f,_-=f,t.back+=f}if(s>>>=b,_-=b,t.back+=b,g&64){e.msg="invalid distance code",t.mode=C;break}t.offset=w,t.extra=g&15,t.mode=Ta;case Ta:if(t.extra){for(v=t.extra;_<v;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}t.offset+=s&(1<<t.extra)-1,s>>>=t.extra,_-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=C;break}t.mode=Ra;case Ra:if(d===0)break e;if(c=h-d,t.offset>c){if(c=t.offset-c,c>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=C;break}c>t.wnext?(c-=t.wnext,m=t.wsize-c):m=t.wnext-c,c>t.length&&(c=t.length),D=t.window}else D=i,m=o-t.offset,c=t.length;c>d&&(c=d),d-=c,t.length-=c;do i[o++]=D[m++];while(--c);t.length===0&&(t.mode=it);break;case Da:if(d===0)break e;i[o++]=t.length,d--,t.mode=it;break;case vt:if(t.wrap){for(;_<32;){if(l===0)break e;l--,s|=n[r++]<<_,_+=8}if(h-=d,e.total_out+=h,t.total+=h,t.wrap&4&&h&&(e.adler=t.check=t.flags?O(t.check,i,h,o-h):Ve(t.check,i,h,o-h)),h=d,t.wrap&4&&(t.flags?s:La(s))!==t.check){e.msg="incorrect data check",t.mode=C;break}s=0,_=0}t.mode=Ca;case Ca:if(t.wrap&&t.flags){for(;_<32;){if(l===0)break e;l--,s+=n[r++]<<_,_+=8}if(t.wrap&4&&s!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=C;break}s=0,_=0}t.mode=Ia;case Ia:R=yr;break e;case C:R=_n;break e;case fn:return cn;case dn:default:return j}return e.next_out=o,e.avail_out=d,e.next_in=r,e.avail_in=l,t.hold=s,t.bits=_,(t.wsize||h!==e.avail_out&&t.mode<C&&(t.mode<vt||a!==ca))&&bn(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,t.total+=h,t.wrap&4&&h&&(e.adler=t.check=t.flags?O(t.check,i,h,e.next_out-h):Ve(t.check,i,h,e.next_out-h)),e.data_type=t.bits+(t.last?64:0)+(t.mode===ee?128:0)+(t.mode===nt||t.mode===kt?256:0),(u===0&&h===0||a===ca)&&R===me&&(R=Sr),R},Nr=e=>{if(ke(e))return j;let a=e.state;return a.window&&(a.window=null),e.state=null,me},Zr=(e,a)=>{if(ke(e))return j;const t=e.state;return t.wrap&2?(t.head=a,a.done=!1,me):j},Or=(e,a)=>{const t=a.length;let n,i,r;return ke(e)||(n=e.state,n.wrap!==0&&n.mode!==_t)?j:n.mode===_t&&(i=1,i=Ve(i,a,t,0),i!==n.check)?_n:(r=bn(e,a,t,t),r?(n.mode=fn,cn):(n.havedict=1,me))};var $r=un,Ur=gn,Fr=hn,Mr=Cr,Hr=pn,Br=Lr,Pr=Nr,Vr=Zr,Kr=Or,jr="pako inflate (from Nodeca project)",ae={inflateReset:$r,inflateReset2:Ur,inflateResetKeep:Fr,inflateInit:Mr,inflateInit2:Hr,inflate:Br,inflateEnd:Pr,inflateGetHeader:Vr,inflateSetDictionary:Kr,inflateInfo:jr};function Xr(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Yr=Xr;const wn=Object.prototype.toString,{Z_NO_FLUSH:Gr,Z_FINISH:Wr,Z_OK:Xe,Z_STREAM_END:St,Z_NEED_DICT:At,Z_STREAM_ERROR:Jr,Z_DATA_ERROR:Za,Z_MEM_ERROR:qr}=xe;function Je(e){this.options=ft.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const a=this.options;a.raw&&a.windowBits>=0&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),a.windowBits>=0&&a.windowBits<16&&!(e&&e.windowBits)&&(a.windowBits+=32),a.windowBits>15&&a.windowBits<48&&(a.windowBits&15||(a.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rn,this.strm.avail_out=0;let t=ae.inflateInit2(this.strm,a.windowBits);if(t!==Xe)throw new Error(be[t]);if(this.header=new Yr,ae.inflateGetHeader(this.strm,this.header),a.dictionary&&(typeof a.dictionary=="string"?a.dictionary=je.string2buf(a.dictionary):wn.call(a.dictionary)==="[object ArrayBuffer]"&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(t=ae.inflateSetDictionary(this.strm,a.dictionary),t!==Xe)))throw new Error(be[t])}Je.prototype.push=function(e,a){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let r,o,l;if(this.ended)return!1;for(a===~~a?o=a:o=a===!0?Wr:Gr,wn.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),r=ae.inflate(t,o),r===At&&i&&(r=ae.inflateSetDictionary(t,i),r===Xe?r=ae.inflate(t,o):r===Za&&(r=At));t.avail_in>0&&r===St&&t.state.wrap>0&&e[t.next_in]!==0;)ae.inflateReset(t),r=ae.inflate(t,o);switch(r){case Jr:case Za:case At:case qr:return this.onEnd(r),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||r===St))if(this.options.to==="string"){let d=je.utf8border(t.output,t.next_out),s=t.next_out-d,_=je.buf2string(t.output,d);t.next_out=s,t.avail_out=n-s,s&&t.output.set(t.output.subarray(d,d+s),0),this.onData(_)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(r===Xe&&l===0)){if(r===St)return r=ae.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Je.prototype.onData=function(e){this.chunks.push(e)};Je.prototype.onEnd=function(e){e===Xe&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ft.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Kt(e,a){const t=new Je(a);if(t.push(e),t.err)throw t.msg||be[t.err];return t.result}function Qr(e,a){return a=a||{},a.raw=!0,Kt(e,a)}var el=Je,tl=Kt,al=Qr,nl=Kt,il=xe,rl={Inflate:el,inflate:tl,inflateRaw:al,ungzip:nl,constants:il};const{Deflate:ll,deflate:sl,deflateRaw:ol,gzip:_l}=hr,{Inflate:cl,inflate:fl,inflateRaw:dl,ungzip:hl}=rl;var ul=ll,gl=sl,pl=ol,bl=_l,wl=cl,ml=fl,xl=dl,kl=hl,vl=xe,yl={Deflate:ul,deflate:gl,deflateRaw:pl,gzip:bl,Inflate:wl,inflate:ml,inflateRaw:xl,ungzip:kl,constants:vl};let Ie=null;class De{constructor(){$(this,"loading_promise",null);$(this,"leagues",null);$(this,"seasons",null);$(this,"cars",null);$(this,"car_classes",null);if(Ie)throw new Error("LeagueService already created")}static async getInstance(){return Ie||(Ie=new De),await Ie.load(),Ie}async load(){if(this.loading_promise)return this.loading_promise;this.loading_promise=await Promise.all([this.loadEligibleLeagues(),this.loadEligibleSeasons(),this.loadCars(),this.loadCarClasses()])}async decompressAndParse(a){let t=null;try{t=await a.arrayBuffer();const i=yl.inflate(new Uint8Array(t),{to:"string"});return JSON.parse(i)}catch{console.warn("Improper decompression, manually decompressing")}return JSON.parse(new TextDecoder().decode(t))}async loadEligibleLeagues(){if(this.leagues)return this.leagues;const a=await fetch("/eligible_leagues.json.gz");if(!a.ok)throw new Error("Failed to fetch data");return this.leagues=await this.decompressAndParse(a),this.leagues}async loadEligibleSeasons(){if(this.seasons)return this.seasons;const a=await fetch("/eligible_seasons.json.gz");if(!a.ok)throw new Error("Failed to fetch data");return this.seasons=await this.decompressAndParse(a),this.seasons}async loadCars(){if(this.cars)return this.cars;const a=await fetch("/cars.json");if(!a.ok)throw new Error("Failed to fetch data");return this.cars=await a.json(),this.cars}async loadCarClasses(){if(this.car_classes)return this.car_classes;const a=await fetch("/car_classes.json");if(!a.ok)throw new Error("Failed to fetch data");return this.car_classes=await a.json(),this.car_classes}loadLeagueDirectory(){const a={};for(const t of this.seasons)a[t.car_class_id]||(a[t.car_class_id]=[]),a[t.car_class_id].push(t);return a}getLeagueName(a){const t=this.leagues[a];return t?t.league_name:""}getLeagueSetup(a){const t=this.leagues[a];return t?t.setup:"N/A"}getCarName(a){const t=this.cars[a];return t?t.car_name:(console.warn("Missing car",a,this.cars),"")}getAbbreviatedCarName(a){const t=this.cars[a];return t?t.car_name_abbreviated:(console.warn("Missing car",a,this.cars),"")}getCarClassName(a){const t=this.car_classes[a];return t?t.name:(console.warn("Missing car class",a),"")}getCarClassNameLinkId(a){}getCarClassNames(a){const t=[];for(const n of a){const i=this.getCarClassName(n);i&&t.push(i)}return t}getAbbreviatedCarNames(a){const t=[];for(const n of a)t.push(this.getAbbreviatedCarName(n));return t}getCarClassHeaders(a){const t=[];for(const n in a)t.push(this.getCarClassNameLinkId(n));return t}getCarClassFilters(){return Object.values(this.car_classes).map(a=>({title:a.name,index:a.car_class_id})).sort((a,t)=>a.title.replace(/^\W+/,"z").localeCompare(t.title.replace(/^\W+/,"z")))}getCarFilters(){return Object.values(this.cars).map(t=>({title:t.car_name,index:t.car_id})).sort((t,n)=>t.title.replace(/^\W+/,"z").localeCompare(n.title.replace(/^\W+/,"z")))}getLeagues(){return this.leagues}getSeasons(){const a=[];for(const t of this.seasons)t.league_name=this.getLeagueName(t.league_id),t.league_name&&(t.setup=this.getLeagueSetup(t.league_id),a.push(t));return a.sort((t,n)=>n.true_roster_count-t.true_roster_count),a}getTrackTypes(){return["Dirt Oval","Dirt Road","Oval","Road"]}}let Le=null;class ce{constructor(){$(this,"loading_promise",null);$(this,"leagueInstance",null);$(this,"results",ne([]));$(this,"weekdays",[]);$(this,"cars",[]);$(this,"car_class_id",null);$(this,"locations",[]);$(this,"start_time",null);$(this,"end_time",null);$(this,"min_sof",0);$(this,"max_sof",1/0);if(Le)throw new Error("LeagueService already created")}static async getInstance(){return Le||(Le=new ce),await Le.load(),Le}async load(){if(this.loading_promise)return this.loading_promise;this.loading_promise=await Promise.all([this.loadLeagueInstance()])}async loadLeagueInstance(){this.leagueInstance=await De.getInstance()}matchesWeekday(a){if(!a.schedule||a.schedule.length==0)return!1;const t=a.schedule[0].launch_at,n=new Date(t).getDay();return this.weekdays.includes(n)}matchesCars(a){if(!a.car_ids)return!1;for(const t of this.cars)if(a.car_ids.includes(t))return!0;return!1}matchesCarClass(a){return a.car_class_id===this.car_class_id}matchesLocations(a){return a.location&&this.locations.includes(a.location)}matchesTime(a){const t=new Date(a).getHours();return this.start_time==this.end_time?t==this.start_time:this.start_time>this.end_time?t>=this.start_time||t<=this.end_time:t>=this.start_time&&t<=this.end_time}matchesSof(a){return a?this.min_sof==1/0?a>=5e3:a>this.min_sof&&a<this.max_sof:!1}update(){let a=this.leagueInstance.getSeasons();this.weekdays.length>0&&(a=a.filter(t=>this.matchesWeekday(t))),this.cars.length>0&&(a=a.filter(t=>this.matchesCars(t))),this.car_class_id!=null&&(a=a.filter(t=>this.matchesCarClass(t))),this.locations&&this.locations.length>0&&(a=a.filter(t=>this.matchesLocations(t))),this.start_time!==null&&this.end_time!==null&&(a=a.filter(t=>t.schedule&&t.schedule.length>0),a=a.filter(t=>this.matchesTime(t.schedule[0].launch_at))),(this.min_sof>0||this.max_sof<1e4)&&(a=a.filter(t=>this.matchesSof(t.field_strength))),this.results.value=a}}const El=Q({__name:"CarFilter",async setup(e){let a,t,n=ne([]);const i=([a,t]=_e(()=>ce.getInstance()),a=await a,t(),a);$t(async()=>{const o=await De.getInstance();n.value=o.getCarFilters()});function r(o){i.cars=o,i.update()}return(o,l)=>(A(),Y(kn,{clearable:"",multiple:"",label:"Cars",items:H(n),chips:!0,"item-title":"title","item-value":"index",density:"compact","onUpdate:modelValue":r},null,8,["items"]))}}),Sl=Q({__name:"DayFilter",async setup(e){let a,t;const n=([a,t]=_e(()=>ce.getInstance()),a=await a,t(),a);let i=ne([{title:"Sunday",index:0},{title:"Monday",index:1},{title:"Tuesday",index:2},{title:"Wednesday",index:3},{title:"Thursday",index:4},{title:"Friday",index:5},{title:"Saturday",index:6}]);function r(o){n.weekdays=o,n.update()}return(o,l)=>(A(),Y(lt,{clearable:"",multiple:"","validate-on":"blur",label:"Weekdays",items:H(i),chips:!0,"item-title":"title","item-value":"index","menu-props":{maxHeight:500},"onUpdate:modelValue":r,density:"compact"},null,8,["items"]))}}),Al=Q({__name:"LocationFilter",async setup(e){let a,t;const n=([a,t]=_e(()=>ce.getInstance()),a=await a,t(),a);let i=ne(["Africa","Asia","Australia-NZ","Europe","International","North America","South America"]);function r(o){n.locations=o,n.update()}return(o,l)=>(A(),Y(lt,{clearable:"","validate-on":"blur",label:"Locations",items:H(i),chips:!0,density:"compact","onUpdate:modelValue":r},null,8,["items"]))}}),zl=Q({__name:"SofFilter",async setup(e){let a,t,n=ne([0,5e3]),i={1e3:"1000",2500:"2500",5e3:"5000+"};const r=([a,t]=_e(()=>ce.getInstance()),a=await a,t(),a);function o(l){r.min_sof=l[0]<5e3?l[0]:1/0,r.max_sof=l[1]<5e3?l[1]:1/0,r.update()}return(l,d)=>(A(),Y(yn,{modelValue:H(n),"onUpdate:modelValue":d[0]||(d[0]=s=>vn(n)?n.value=s:n=s),"thumb-label":!0,label:"Strength of Field",min:"0",max:"5000",ticks:H(i),"show-ticks":"always",step:"100",strict:!0,onEnd:o},null,8,["modelValue","ticks"]))}}),Tl=Q({__name:"TimeFilter",async setup(e){let a,t;const n=([a,t]=_e(()=>ce.getInstance()),a=await a,t(),a),i=[];for(let l=0;l<12;l++){const d=l==0?"12AM":`${l}AM`;i.push({title:d,index:l})}for(let l=0;l<12;l++){const d=l==0?"12PM":`${l}PM`;i.push({title:d,index:l+12})}function r(l){n.start_time=l,n.update()}function o(l){n.end_time=l,n.update()}return(l,d)=>(A(),Y(zt,null,{default:F(()=>[Z(Oe,null,{default:F(()=>[Z(lt,{clearable:"",label:"Earliest Start",items:i,"onUpdate:modelValue":r,"item-title":"title",density:"compact","item-value":"index"})]),_:1}),Z(Oe,null,{default:F(()=>[Z(lt,{clearable:"",label:"Latest Start",items:i,"onUpdate:modelValue":o,"item-title":"title",density:"compact","item-value":"index"})]),_:1})]),_:1}))}}),Rl={class:"search-filters"},Dl=Q({__name:"SearchFilters",setup(e){return(a,t)=>(A(),I("div",Rl,[t[0]||(t[0]=S("h1",null,"League Directory Search",-1)),Z(En,null,{default:F(()=>[Z(zt,null,{default:F(()=>[Z(Oe,{cols:12,xs:12,sm:12,md:6,class:"irl-v-col"},{default:F(()=>[Z(El),Z(Al)]),_:1}),Z(Oe,{cols:12,xs:12,sm:12,md:6,class:"irl-v-col"},{default:F(()=>[Z(Sl),Z(Tl)]),_:1})]),_:1}),Z(zt,null,{default:F(()=>[Z(Oe,{cols:12,xs:12,sm:12,md:6,class:"irl-v-col"},{default:F(()=>[Z(zl)]),_:1})]),_:1})]),_:1})]))}}),Cl=Ut(Dl,[["__scopeId","data-v-2f0524ba"]]),Il={class:"top-pagination-container"},Ll=["href"],Nl=Q({__name:"SearchTable",props:{tableData:{}},async setup(e){let a,t,n=null,i=null;function r(p){if(p.length<=0||!p[0].key){n=null,i=null;return}if(p[0].key=="session_time"){n=p[0].order;return}if(p[0].key=="schedule"){i=p[0].order;return}}function o(p,b){const g=p.schedule&&p.schedule.length>0,w=b.schedule&&b.schedule.length>0,f=n==="desc"?-1:1;return g&&!w?-1*f:w&&!g?1*f:!w&&!g?0:new Date(p.schedule[0].launch_at).getTime()-new Date(b.schedule[0].launch_at).getTime()}function l(p,b){const g=p.schedule&&p.schedule.length>0&&p.schedule[0].track,w=b.schedule&&b.schedule.length>0&&b.schedule[0].track,f=i==="desc"?-1:1;return g&&!w?-1*f:w&&!g?1*f:!w&&!g?0:p.schedule[0].track.track_name.replace(/^\W+/,"z").localeCompare(b.schedule[0].track.track_name.replace(/^\W+/,"z"))}const d=[{title:"League Name",key:"league_name"},{title:"Season",key:"season_name",sortable:!1},{title:"Cars",key:"car_ids",sortable:!1},{title:"Location",key:"location",sortable:!1},{title:"Drivers",key:"true_roster_count",order:"desc"},{title:"SoF",key:"field_strength"},{title:"Setup",key:"setup",sortable:!1},{title:"Upcoming Race",key:"schedule",sortRaw:l},{title:"Session Time",key:"session_time",sortRaw:o}];function s(p){return"https://members.iracing.com/membersite/member/LeagueView.do?league="+p}function _(p){const b={weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(p).toLocaleString(void 0,b)}const u=([a,t]=_e(()=>De.getInstance()),a=await a,t(),a);function h(p){return p.length>6?"car-id-overflow-container":""}function c(p){return p.length>6?"car-id-overflow":""}let m=ne(null);function D(){m.value.$el.scrollIntoView({behavior:"smooth"})}return(p,b)=>(A(),Y(Oa,{headers:d,items:p.tableData,"item-value":"name","items-per-page":"25",class:"search-results","onUpdate:page":D,"onUpdate:sortBy":r,ref_key:"topTable",ref:m,"no-data-text":"No league seasons meet the search criteria"},{top:F(({page:g,pageCount:w,itemsPerPage:f,options:z,updateOptions:N})=>[S("div",Il,[b[0]||(b[0]=S("h2",null,"Results",-1)),Z(Sn,{class:"top-pagination","items-per-page-text":"$vuetify.dataTable.itemsPerPageText"})])]),"item.league_name":F(({item:g,value:w})=>[S("a",{href:s(g.league_id),target:"_blank"},L(w),9,Ll)]),"item.car_ids":F(({item:g})=>[g.car_class_id!=0?(A(),I(X,{key:0},[de(L(H(u).getCarClassName(g.car_class_id)),1)],64)):g.car_class_ids&&g.car_class_ids.length>0&&g.car_class_ids[0]!=0?(A(!0),I(X,{key:1},Xt(H(u).getCarClassNames(g.car_class_ids),(w,f)=>(A(),I(X,{key:f},[de(L(w)+" ",1),b[1]||(b[1]=S("br",null,null,-1))],64))),128)):(A(),I("div",{key:2,class:Yt(h(g.car_ids))},[S("div",{class:Yt(c(g.car_ids))},[(A(!0),I(X,null,Xt(g.car_ids,(w,f)=>(A(),I(X,{key:f},[H(u).getCarName(w)?(A(),I(X,{key:0},[S("span",null,L(H(u).getCarName(w)),1),b[2]||(b[2]=S("br",null,null,-1))],64)):he("",!0)],64))),128))],2)],2))]),"item.schedule":F(({value:g})=>[g&&g.length>0?(A(),I(X,{key:0},[de(L(g[0].track.track_name),1),g[0].track.config_name?(A(),I(X,{key:0},[b[3]||(b[3]=S("br",null,null,-1)),de(" "+L(g[0].track.config_name),1)],64)):he("",!0)],64)):he("",!0)]),"item.session_time":F(({item:g,value:w})=>[g.schedule&&g.schedule.length>0?(A(),I(X,{key:0},[de(L(_(g.schedule[0].launch_at))+" "+L(w),1)],64)):he("",!0)]),_:1},8,["items"]))}}),Zl=Ut(Nl,[["__scopeId","data-v-0f32b878"]]),Ol=["href"],$l={class:"season-name"},Ul={class:"sub-info"},Fl={class:"subinfo-table"},Ml={class:"subinfo-cell"},Hl={class:"subinfo-cell-content"},Bl={class:"subinfo-cell"},Pl={class:"subinfo-cell-content"},Vl={class:"subinfo-cell"},Kl={class:"subinfo-cell-content"},jl={class:"subinfo-cell"},Xl={class:"subinfo-cell-content"},Yl={key:0},Gl={class:"subinfo-cell",colspan:"2"},Wl={class:"subinfo-cell-content"},Jl={class:"subinfo-cell-content"},ql={key:1},Ql={class:"subinfo-cell",colspan:"2"},es={key:0,class:"subinfo-cell-content"},ts={key:1,class:"subinfo-cell-content"},as={key:2,class:"subinfo-cell-content"},ns=Q({__name:"SearchTableMobile",props:{tableData:{}},async setup(e){let a,t;const n=([a,t]=_e(()=>De.getInstance()),a=await a,t(),a),i=[{title:"Results",key:"league_name",sortable:!1}];function r(s){return"https://members.iracing.com/membersite/member/LeagueView.do?league="+s}function o(s){const _={weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(s).toLocaleString(void 0,_)}let l=ne(null);function d(){l.value.$el.scrollIntoView({behavior:"smooth"})}return(s,_)=>(A(),Y(Oa,{headers:i,items:s.tableData,"item-value":"name","items-per-page":"25",class:"search-results","onUpdate:page":d,ref_key:"topTable",ref:l,"no-data-text":"No league seasons meet the search criteria"},{"item.league_name":F(({item:u,value:h})=>[S("a",{href:r(u.league_id),target:"_blank",class:"league-link"},L(h),9,Ol),S("p",$l,L(u.season_name),1),S("div",Ul,[S("table",Fl,[S("tr",null,[S("td",Ml,[_[0]||(_[0]=S("p",{class:"subinfo-cell-header"},"Drivers",-1)),S("p",Hl,L(u.true_roster_count),1)]),S("td",Bl,[_[1]||(_[1]=S("p",{class:"subinfo-cell-header"},"Location",-1)),S("p",Pl,L(u.location),1)])]),S("tr",null,[S("td",Vl,[_[2]||(_[2]=S("p",{class:"subinfo-cell-header"},"SoF",-1)),S("p",Kl,L(u.field_strength?u.field_strength:"N/A"),1)]),S("td",jl,[_[3]||(_[3]=S("p",{class:"subinfo-cell-header"},"Setup",-1)),S("p",Xl,L(u.setup?u.setup:"N/A"),1)])]),u.schedule&&u.schedule.length>0?(A(),I("tr",Yl,[S("td",Gl,[_[4]||(_[4]=S("p",{class:"subinfo-cell-header"},"Upcoming Race",-1)),S("p",Wl,[de(L(u.schedule[0].track.track_name),1),u.schedule[0].track.config_name?(A(),I(X,{key:0},[de(" - "+L(u.schedule[0].track.config_name),1)],64)):he("",!0)]),S("p",Jl,L(o(u.schedule[0].launch_at)),1)])])):he("",!0),u.car_class_id!=0||u.car_ids&&u.car_ids.length>0?(A(),I("tr",ql,[S("td",Ql,[_[5]||(_[5]=S("p",{class:"subinfo-cell-header"},"Cars",-1)),u.car_class_id!=0?(A(),I("p",es,L(H(n).getCarClassName(u.car_class_id)),1)):u.car_class_ids&&u.car_class_ids.length>0&&u.car_class_ids[0]!=0?(A(),I("p",ts,L(H(n).getCarClassNames(u.car_class_ids).join(", ")),1)):(A(),I("p",as,L(H(n).getAbbreviatedCarNames(u.car_ids).join(", ")),1))])])):he("",!0)])])]),_:1},8,["items"]))}}),is=Ut(ns,[["__scopeId","data-v-e51312ed"]]),rs={class:"directory"},ls={key:0},ss={key:1},os=Q({__name:"SearchResults",async setup(e){let a,t;const n=([a,t]=_e(()=>ce.getInstance()),a=await a,t(),a),i=n.results,r=ne(!0),o=ne(null);function l(){return screen.width<=760}return $t(async()=>{try{n.update()}catch(d){o.value=d.message}finally{r.value=!1}}),(d,s)=>(A(),I("div",rs,[r.value?(A(),I("p",ls,"Loading data...")):o.value?(A(),I("p",ss,L(o.value),1)):(A(),I(X,{key:2},[l()?(A(),Y(is,{key:0,tableData:H(i)},null,8,["tableData"])):(A(),Y(Zl,{key:1,tableData:H(i)},null,8,["tableData"]))],64))]))}}),_s={class:"search"},ds=Q({__name:"SearchView",setup(e){return $t(async()=>{}),(a,t)=>(A(),I("div",_s,[(A(),Y(Gt,null,{default:F(()=>[Z(Cl)]),_:1})),(A(),Y(Gt,null,{default:F(()=>[Z(os)]),_:1}))]))}});export{ds as default};
